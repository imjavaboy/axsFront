(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/forumDetail/ForumDetail"],{"10f3":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}));var o=function(){var t=this,e=t.$createElement,i=(t._self._c,""!==t.item.photo&&void 0!==t.item.photo?t.item.photo.split("`"):null);t._isMounted||(t.e0=function(e){t.isCommentPopupShow=!0}),t.$mp.data=Object.assign({},{$root:{l0:i}})},s=[]},"158a":function(t,e,i){},"2a10":function(t,e,i){"use strict";i.r(e);var n=i("4b11"),o=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=o.a},"376b":function(t,e,i){"use strict";var n=i("158a"),o=i.n(n);o.a},"4b11":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("5084");function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var s={name:"ForumDetail",data:function(){return{pid:"",item:{},isCommentPopupShow:!1,textValue:"",isMeLike:0}},methods:o({closePopup:function(){this.isCommentPopupShow=!1,this.textValue=""},onLoad:function(t){this.pid=t.pid,this.isMeLike=t.isMeLike,this.getData()},getData:function(){var e=this;(0,n.getDetailPostingById)(this.pid).then((function(t){e.item=t.obj})).catch((function(e){t.showToast({title:"获取帖子详情失败",icon:"error"})}))},clickImg:function(t){var e=t.currentTarget.dataset.imgindex;wx.previewImage({urls:this.item.photo.split("`"),current:this.item.photo.split("`")[e]})},bindTextAreaBlur:function(t){this.textValue=t.detail.value},sendComment:function(){},dontLike:function(e){var i=this,o=t.getStorageSync("id");(0,n.dontLike)(o,this.pid).then((function(e){200===e.code&&(i.$set(i.item,"likesNum",i.item.likesNum-1),i.isMeLike="0"),t.showToast({title:e.message,icon:"success"})}))},doLike:function(e){var i=this,o=t.getStorageSync("id");(0,n.doLike)(o,this.pid).then((function(e){200===e.code&&(i.$set(i.item,"likesNum",i.item.likesNum+1),i.isMeLike="1"),t.showToast({title:e.message,icon:"success"})}))}},"sendComment",(function(e){var i=this;if(""!==this.textValue){var o=t.getStorageSync("id");(0,n.remarkPosting)(o,this.pid,this.textValue).then((function(e){200===e.code?(t.showToast({title:"评论成功",icon:"success"}),i.getData()):t.showToast({title:"评论失败",icon:"error"})})).catch((function(e){t.showToast({title:"评论失败",icon:"error"})})),this.textValue="",this.isCommentPopupShow=!1}else t.showToast({title:"评论不能为空",icon:"error"})}))};e.default=s}).call(this,i("543d")["default"])},"78b7":function(t,e,i){"use strict";(function(t){i("085c");n(i("66fd"));var e=n(i("c5d8"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("543d")["createPage"])},c5d8:function(t,e,i){"use strict";i.r(e);var n=i("10f3"),o=i("2a10");for(var s in o)"default"!==s&&function(t){i.d(e,t,(function(){return o[t]}))}(s);i("376b");var u,a=i("f0c5"),c=Object(a["a"])(o["default"],n["b"],n["c"],!1,null,"127967b4",null,!1,n["a"],u);e["default"]=c.exports}},[["78b7","common/runtime","common/vendor"]]]);