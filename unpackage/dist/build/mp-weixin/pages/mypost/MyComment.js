(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mypost/MyComment"],{"29ef":function(t,e,n){},"3a63":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n("5084"),a={name:"Mycomment",data:function(){return{posts:[],headimgs:[],nicknames:[],likes:[],isCommentPopupShow:!1,commentTextareaValue:"",targetIndex:"",loginUserInfo:{},list:[{id:1},{id:2}],account:{},remarkPostingId:"",textValue:"",remarkPostingIndex:"",currentPage:1}},methods:{onLoad:function(){this.account=t.getStorageSync("userInfo"),this.getData()},getData:function(){var e=this,n=t.getStorageSync("id");(0,o.getMyCommentPosting)(n).then((function(n){var o=t.getStorageSync("id");n.obj.forEach((function(t){t.likeAccounts.forEach((function(e){e.id===o&&(t.isMeLike=!0)}))})),e.posts=n.obj})).catch((function(e){t.showToast({title:"获取帖子失败",icon:"error"})}))},lower:function(){console.log("触底了"),this.getData(this.currentPage+1)},clickImg:function(t){var e=t.currentTarget.dataset.itemindex,n=t.currentTarget.dataset.imgindex;wx.previewImage({urls:this.posts[e].photo.split("`"),current:this.posts[e].photo.split("`")[n]})},toDeatil:function(e){var n=e.currentTarget.dataset.pid,o=e.currentTarget.dataset.islike;t.navigateTo({url:"/pages/forumDetail/ForumDetail?pid=".concat(n,"&isMeLike=").concat(o)})},dontLike:function(e){var n=this,a=t.getStorageSync("id"),i=e.currentTarget.dataset.pid,s=e.currentTarget.dataset.index;(0,o.dontLike)(a,i).then((function(e){200===e.code&&(n.$set(n.posts[s],"likesNum",n.posts[s].likesNum-1),n.$set(n.posts[s],"isMeLike",!1)),t.showToast({title:e.message,icon:"success"})}))},doLike:function(e){var n=this;console.log(e.currentTarget.dataset);var a=t.getStorageSync("id"),i=e.currentTarget.dataset.pid,s=e.currentTarget.dataset.index;(0,o.doLike)(a,i).then((function(e){200===e.code&&(n.$set(n.posts[s],"likesNum",n.posts[s].likesNum+1),n.$set(n.posts[s],"isMeLike",!0)),t.showToast({title:e.message,icon:"success"})}))},delComment:function(e){var n=this,a=e.currentTarget.dataset.cid,i=e.currentTarget.dataset.pid;(0,o.delComment)(a,i).then((function(e){200===e.code&&(t.showToast({title:"删除成功",icon:"success"}),n.getData())})).catch((function(e){t.showToast({title:"删除失败"})}))}}};e.default=a}).call(this,n("543d")["default"])},5030:function(t,e,n){"use strict";var o;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o}));var a=function(){var t=this,e=t.$createElement,n=(t._self._c,t.__map(t.posts,(function(e,n){var o=t.__get_orig(e),a=""!==e.photo?e.photo.split("`"):null;return{$orig:o,l0:a}})));t.$mp.data=Object.assign({},{$root:{l1:n}})},i=[]},"7fab":function(t,e,n){"use strict";(function(t){n("085c");o(n("66fd"));var e=o(n("b985"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},b469:function(t,e,n){"use strict";var o=n("29ef"),a=n.n(o);a.a},b985:function(t,e,n){"use strict";n.r(e);var o=n("5030"),a=n("de9e");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);n("b469");var s,r=n("f0c5"),c=Object(r["a"])(a["default"],o["b"],o["c"],!1,null,"1f5aef3e",null,!1,o["a"],s);e["default"]=c.exports},de9e:function(t,e,n){"use strict";n.r(e);var o=n("3a63"),a=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=a.a}},[["7fab","common/runtime","common/vendor"]]]);